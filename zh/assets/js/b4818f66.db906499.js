"use strict";(self.webpackChunkwechaty_docusaurus=self.webpackChunkwechaty_docusaurus||[]).push([[9062,7182],{3905:(e,t,a)=>{a.d(t,{Zo:()=>l,kt:()=>m});var r=a(67294);function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){p(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,p=function(e,t){if(null==e)return{};var a,r,p={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(p[a]=e[a]);return p}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(p[a]=e[a])}return p}var s=r.createContext({}),c=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},l=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var a=e.components,p=e.mdxType,n=e.originalType,s=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),d=c(a),h=p,m=d["".concat(s,".").concat(h)]||d[h]||u[h]||n;return a?r.createElement(m,o(o({ref:t},l),{},{components:a})):r.createElement(m,o({ref:t},l))}));function m(e,t){var a=arguments,p=t&&t.mdxType;if("string"==typeof e||p){var n=a.length,o=new Array(n);o[0]=h;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[d]="string"==typeof e?e:p,o[1]=i;for(var c=2;c<n;c++)o[c]=a[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}h.displayName="MDXCreateElement"},53635:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var r=a(87462),p=(a(67294),a(3905)),n=a(16712);const o={slug:"/puppet-providers/",title:"Wechaty Puppet Providers",sidebar_label:"Puppet Providers: Overview"},i=void 0,s={unversionedId:"puppet-providers/overview",id:"puppet-providers/overview",title:"Wechaty Puppet Providers",description:"The Wechaty community builds separate RPA modules for for different instant messaging (IM) systems (such as WeChat, Whatsapp, and TikTok). These modules are called Wechaty Puppet.",source:"@site/docs/puppet-providers/overview.mdx",sourceDirName:"puppet-providers",slug:"/puppet-providers/",permalink:"/zh/docs/puppet-providers/",draft:!1,editUrl:"https://github.com/wechaty/docusaurus/edit/main/docusaurus/docs/puppet-providers/overview.mdx",tags:[],version:"current",lastUpdatedBy:"Leo_chen",lastUpdatedAt:1634036458,formattedLastUpdatedAt:"2021\u5e7410\u670812\u65e5",frontMatter:{slug:"/puppet-providers/",title:"Wechaty Puppet Providers",sidebar_label:"Puppet Providers: Overview"},sidebar:"docs",previous:{title:"Polyglot: DIY",permalink:"/zh/docs/polyglot/diy/"},next:{title:"WeChat",permalink:"/zh/docs/puppet-providers/wechat"}},c={},l=[{value:"Wechaty Puppet Providers",id:"wechaty-puppet-providers",level:2},{value:"Using Wechaty Puppet Providers",id:"using-wechaty-puppet-providers",level:2},{value:"Using the WECHATY_PUPPET environment variable",id:"using-the-wechaty_puppet-environment-variable",level:3},{value:"Importing the Wechaty Puppet manually in code",id:"importing-the-wechaty-puppet-manually-in-code",level:3},{value:"History",id:"history",level:2},{value:"See Also",id:"see-also",level:2},{value:"Blogs",id:"blogs",level:2}],d={toc:l},u="wrapper";function h(e){let{components:t,...a}=e;return(0,p.kt)(u,(0,r.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,p.kt)(n.default,{mdxType:"Badges"}),(0,p.kt)("p",null,"The Wechaty community builds separate RPA modules for for different instant messaging (IM) systems (such as WeChat, Whatsapp, and TikTok). These modules are called ",(0,p.kt)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty-puppet"},"Wechaty Puppet"),"."),(0,p.kt)("p",null,"The Wechaty Puppet Provider which is supporting WeChat is named wechaty-puppet-wechat. The puppet provider supporting Whatsapp is named wechaty-puppet-whatsapp, and supporting Lark is named wechaty-puppet-lark."),(0,p.kt)("p",null,"Wechaty Puppet Provider is an NPM module for a specific IM protocol Wechaty Puppet. Run specific Wechaty puppet using the following command :"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-sh"},"npm install wechaty-puppet-NAME\nexport WECHATY_PUPPET=wechaty-puppet-NAME\nnpm start\n")),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},"You can switch between different Wechaty Puppet Provider by changing your ",(0,p.kt)("inlineCode",{parentName:"p"},"WECHATY_PUPPET")," environment variable. All your source code should work between different tokens without any changes.")),(0,p.kt)("h2",{id:"wechaty-puppet-providers"},"Wechaty Puppet Providers"),(0,p.kt)("p",null,"Presently, we have the following Wechaty Puppet Providers:"),(0,p.kt)("table",null,(0,p.kt)("thead",{parentName:"table"},(0,p.kt)("tr",{parentName:"thead"},(0,p.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,p.kt)("th",{parentName:"tr",align:"center"},"Platform"),(0,p.kt)("th",{parentName:"tr",align:"center"},"Protocol"),(0,p.kt)("th",{parentName:"tr",align:"center"},"Stable"))),(0,p.kt)("tbody",{parentName:"table"},(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:"center"},(0,p.kt)("a",{parentName:"td",href:"/zh/docs/puppet-providers/wechat"},"WeChat")),(0,p.kt)("td",{parentName:"tr",align:"center"},"WeChat"),(0,p.kt)("td",{parentName:"tr",align:"center"},"Web"),(0,p.kt)("td",{parentName:"tr",align:"center"},"Beta")),(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:"center"},(0,p.kt)("a",{parentName:"td",href:"/zh/docs/puppet-providers/whatsapp"},"Whatsapp")),(0,p.kt)("td",{parentName:"tr",align:"center"},"Whatsapp"),(0,p.kt)("td",{parentName:"tr",align:"center"},"Web"),(0,p.kt)("td",{parentName:"tr",align:"center"},"Alpha")),(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:"center"},(0,p.kt)("a",{parentName:"td",href:"official-account/"},"Official Account")),(0,p.kt)("td",{parentName:"tr",align:"center"},"WeChat Official Account"),(0,p.kt)("td",{parentName:"tr",align:"center"},"API"),(0,p.kt)("td",{parentName:"tr",align:"center"},"Alpha")),(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:"center"},(0,p.kt)("a",{parentName:"td",href:"/zh/docs/puppet-providers/gitter"},"Gitter")),(0,p.kt)("td",{parentName:"tr",align:"center"},"Gitter"),(0,p.kt)("td",{parentName:"tr",align:"center"},"API"),(0,p.kt)("td",{parentName:"tr",align:"center"},"Alpha")),(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:"center"},(0,p.kt)("a",{parentName:"td",href:"/zh/docs/puppet-providers/lark"},"Lark")),(0,p.kt)("td",{parentName:"tr",align:"center"},"Lark"),(0,p.kt)("td",{parentName:"tr",align:"center"},"API"),(0,p.kt)("td",{parentName:"tr",align:"center"},"Alpha")),(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:"center"},(0,p.kt)("a",{parentName:"td",href:"/zh/docs/puppet-providers/padlocal"},"PadLocal")),(0,p.kt)("td",{parentName:"tr",align:"center"},"WeChat"),(0,p.kt)("td",{parentName:"tr",align:"center"},"Pad"),(0,p.kt)("td",{parentName:"tr",align:"center"},"Beta")),(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:"center"},(0,p.kt)("a",{parentName:"td",href:"/zh/docs/puppet-providers/wechat4u"},"WeChat4U")),(0,p.kt)("td",{parentName:"tr",align:"center"},"WeChat"),(0,p.kt)("td",{parentName:"tr",align:"center"},"Web"),(0,p.kt)("td",{parentName:"tr",align:"center"},"Alpha")),(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:"center"},(0,p.kt)("a",{parentName:"td",href:"/zh/docs/puppet-providers/xp"},"XP")),(0,p.kt)("td",{parentName:"tr",align:"center"},"WeChat"),(0,p.kt)("td",{parentName:"tr",align:"center"},"Windows"),(0,p.kt)("td",{parentName:"tr",align:"center"},"Alpha")),(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:"center"},(0,p.kt)("a",{parentName:"td",href:"/zh/docs/puppet-providers/service"},"Service")),(0,p.kt)("td",{parentName:"tr",align:"center"},"Universal"),(0,p.kt)("td",{parentName:"tr",align:"center"},"gRPC"),(0,p.kt)("td",{parentName:"tr",align:"center"},"Beta")),(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:"center"},(0,p.kt)("a",{parentName:"td",href:"/zh/docs/puppet-providers/mock"},"Mock")),(0,p.kt)("td",{parentName:"tr",align:"center"},"Universal"),(0,p.kt)("td",{parentName:"tr",align:"center"},"Mock"),(0,p.kt)("td",{parentName:"tr",align:"center"},"Beta")))),(0,p.kt)("h2",{id:"using-wechaty-puppet-providers"},"Using Wechaty Puppet Providers"),(0,p.kt)("p",null,"Let\u2019s see a code example (in TypeScript) of how to change Wechaty Puppet Providers."),(0,p.kt)("p",null,"We have the following six lines code, which is the world\u2019s shortest chatbot:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-sh"},"// bot.ts\nimport { Wechaty } from 'wechaty'\n\nWechaty.instance() // Global Instance\n.on('scan', (qrcode, status) => console.log(`Scan QR Code to login: ${status}\\nhttps://wechaty.js.org/qrcode/${encodeURIComponent(qrcode)}`))\n.on('login',            user => console.log(`User ${user} logged in`))\n.on('message',       message => console.log(`Message: ${message}`))\n.start()\n")),(0,p.kt)("p",null,"The above code will use the default Wechaty Puppet Provider (which is wechaty-puppet-wechat) because we have not specified manually."),(0,p.kt)("p",null,"If we want this bot to serve on Whatsapp, we need to specify a Wechaty Puppet Provider for Whatsapp."),(0,p.kt)("p",null,"We have two methods to specify Wechaty Puppet Providers for our program:"),(0,p.kt)("ol",null,(0,p.kt)("li",{parentName:"ol"},"Using the WECHATY_PUPPET environment variable."),(0,p.kt)("li",{parentName:"ol"},"Import the Wechaty Puppet manually in code.")),(0,p.kt)("h3",{id:"using-the-wechaty_puppet-environment-variable"},"Using the WECHATY_PUPPET environment variable"),(0,p.kt)("p",null,"The WECHATY_PUPPET environment will be used as the Wechaty Puppet Provider NPM name, and then you are all set."),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-sh"},"export WECHATY_PUPPET=wechaty-puppet-whatsapp\nts-node bot.ts\n")),(0,p.kt)("p",null,"The above shell commands set the ",(0,p.kt)("inlineCode",{parentName:"p"},"wechaty-puppet-whatsapp")," to the environment variable ",(0,p.kt)("inlineCode",{parentName:"p"},"WECHATY_PUPPET")," and our Wechaty system will use it."),(0,p.kt)("h3",{id:"importing-the-wechaty-puppet-manually-in-code"},"Importing the Wechaty Puppet manually in code"),(0,p.kt)("p",null,"On the other hand, you can import the Wechaty Puppet Provider NPM module directly in your code and then add an option when instantiating the Wechaty with the object name puppet:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-sh"},"// bot.ts\nimport { Wechaty } from 'wechaty'\n+ import { PuppetWhatsapp } from 'wechaty-puppet-whatsapp'\n\n- Wechaty.instance() // Global Instance\n+ Wechaty.instance({ puppet: new PuppetWhatsapp() })\n.on('scan', (qrcode, status) => console.log(`Scan QR Code to login: ${status}\\nhttps://wechaty.js.org/qrcode/${encodeURIComponent(qrcode)}`))\n.on('login',            user => console.log(`User ${user} logged in`))\n.on('message',       message => console.log(`Message: ${message}`))\n.start()\n")),(0,p.kt)("p",null,"In the above code, Wechaty will use PuppetWhatsapp from the wechaty-puppet-whatsapp module."),(0,p.kt)("h2",{id:"history"},"History"),(0,p.kt)("ol",null,(0,p.kt)("li",{parentName:"ol"},(0,p.kt)("a",{parentName:"li",href:"https://wechaty.js.org/2021/03/04/wechaty-puppet-providers-trends/"},"Wechaty Puppet Providers Trends, Huan, Mar 4, 2021")),(0,p.kt)("li",{parentName:"ol"},(0,p.kt)("a",{parentName:"li",href:"https://wechaty.js.org/2021/01/14/wechaty-puppet-service/"},"Introducing Wechaty Puppet Service (Providers), @huan, Jan 14, 2021"))),(0,p.kt)("h2",{id:"see-also"},"See Also"),(0,p.kt)("p",null,"If you want to learn more about the concepts behind Wechaty Puppet Provider, you can read:"),(0,p.kt)("ol",null,(0,p.kt)("li",{parentName:"ol"},(0,p.kt)("a",{parentName:"li",href:"/zh/docs/specs/puppet"},"Wechaty Puppet Specification")),(0,p.kt)("li",{parentName:"ol"},(0,p.kt)("a",{parentName:"li",href:"https://wechaty.js.org/2021/01/14/wechaty-puppet-service/"},"Introducing Wechaty Puppet Service (Providers), @huan, Jan 14, 2021"))),(0,p.kt)("p",null,"For a deeper understanding of the Puppet in Wechaty, you can read its source code from ",(0,p.kt)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty-puppet/blob/main/src/puppet.ts"},"https://github.com/wechaty/wechaty-puppet/blob/main/src/puppet.ts")),(0,p.kt)("h2",{id:"blogs"},"Blogs"),(0,p.kt)("ol",null,(0,p.kt)("li",{parentName:"ol"},(0,p.kt)("a",{parentName:"li",href:"https://wechaty.js.org/2021/01/14/wechaty-puppet-service/"},"Introducing Wechaty Puppet Service (Providers), @huan, Jan 14, 2021"))))}h.isMDXComponent=!0},16712:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>n,metadata:()=>i,toc:()=>c});var r=a(87462),p=(a(67294),a(3905));const n={},o=void 0,i={unversionedId:"puppet-providers/transclusions/badges",id:"puppet-providers/transclusions/badges",title:"badges",description:"Wechaty Puppet WeChat",source:"@site/docs/puppet-providers/transclusions/badges.mdx",sourceDirName:"puppet-providers/transclusions",slug:"/puppet-providers/transclusions/badges",permalink:"/zh/docs/puppet-providers/transclusions/badges",draft:!1,editUrl:"https://github.com/wechaty/docusaurus/edit/main/docusaurus/docs/puppet-providers/transclusions/badges.mdx",tags:[],version:"current",lastUpdatedBy:"Huan LI (\u674e\u5353\u6853)",lastUpdatedAt:1646751323,formattedLastUpdatedAt:"2022\u5e743\u67088\u65e5",frontMatter:{}},s={},c=[],l={toc:c},d="wrapper";function u(e){let{components:t,...a}=e;return(0,p.kt)(d,(0,r.Z)({},l,a,{components:t,mdxType:"MDXLayout"}),(0,p.kt)("p",null,(0,p.kt)("a",{parentName:"p",href:"/zh/docs/puppet-providers/wechat"},(0,p.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Puppet-WeChat-blueviolet",alt:"Wechaty Puppet WeChat"})),"\n",(0,p.kt)("a",{parentName:"p",href:"/zh/docs/puppet-providers/whatsapp"},(0,p.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Puppet-Whatsapp-blueviolet",alt:"Wechaty Puppet Whatsapp"})),"\n",(0,p.kt)("a",{parentName:"p",href:"/zh/docs/puppet-providers/official-account"},(0,p.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Puppet-Official%20Account-blueviolet",alt:"Wechaty Puppet Official Account"})),"\n",(0,p.kt)("a",{parentName:"p",href:"/zh/docs/puppet-providers/gitter"},(0,p.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Puppet-Gitter-blueviolet",alt:"Wechaty Puppet Gitter"})),"\n",(0,p.kt)("a",{parentName:"p",href:"/zh/docs/puppet-providers/lark"},(0,p.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Puppet-Lark-blueviolet",alt:"Wechaty Puppet Lark"})),"\n",(0,p.kt)("a",{parentName:"p",href:"/zh/docs/puppet-providers/padlocal"},(0,p.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Puppet-PadLocal-blueviolet",alt:"Wechaty Puppet PadLocal"})),"\n",(0,p.kt)("a",{parentName:"p",href:"/zh/docs/puppet-providers/wechat4u"},(0,p.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Puppet-WeChat4U-blueviolet",alt:"Wechaty Puppet WeChat4U"})),"\n",(0,p.kt)("a",{parentName:"p",href:"/zh/docs/puppet-providers/xp"},(0,p.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Puppet-XP-blueviolet",alt:"Wechaty Puppet XP"})),"\n",(0,p.kt)("a",{parentName:"p",href:"/zh/docs/puppet-providers/oicq"},(0,p.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Puppet-Oicq-blueviolet",alt:"Wechaty Puppet Oicq"})),"\n",(0,p.kt)("a",{parentName:"p",href:"/zh/docs/puppet-providers/simplepad"},(0,p.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Puppet-SimplePad-blueviolet",alt:"Wechaty Puppet SimplePad"})),"\n",(0,p.kt)("a",{parentName:"p",href:"/zh/docs/puppet-providers/service"},(0,p.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Puppet-Service-blueviolet",alt:"Wechaty Puppet Service"})),"\n",(0,p.kt)("a",{parentName:"p",href:"/zh/docs/puppet-providers/mock"},(0,p.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Puppet-Mock-blueviolet",alt:"Wechaty Puppet Mock"})),"\n",(0,p.kt)("a",{parentName:"p",href:"/zh/docs/puppet-providers/diy"},(0,p.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Provider-DIY-blueviolet",alt:"Wechaty Puppet DIY"}))))}u.isMDXComponent=!0}}]);