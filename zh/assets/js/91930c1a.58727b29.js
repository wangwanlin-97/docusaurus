"use strict";(self.webpackChunkwechaty_docusaurus=self.webpackChunkwechaty_docusaurus||[]).push([[7377],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>d});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},p=Object.keys(e);for(n=0;n<p.length;n++)a=p[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(n=0;n<p.length;n++)a=p[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=n.createContext({}),s=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=s(e.components);return n.createElement(i.Provider,{value:t},e.children)},c="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,p=e.originalType,i=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=s(a),m=r,d=c["".concat(i,".").concat(m)]||c[m]||h[m]||p;return a?n.createElement(d,l(l({ref:t},u),{},{components:a})):n.createElement(d,l({ref:t},u))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var p=a.length,l=new Array(p);l[0]=m;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o[c]="string"==typeof e?e:r,l[1]=o;for(var s=2;s<p;s++)l[s]=a[s];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},85162:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(67294),r=a(86010);const p={tabItem:"tabItem_Ymn6"};function l(e){let{children:t,hidden:a,className:l}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(p.tabItem,l),hidden:a},t)}},74866:(e,t,a)=>{a.d(t,{Z:()=>v});var n=a(87462),r=a(67294),p=a(86010),l=a(12466),o=a(16550),i=a(91980),s=a(67392),u=a(50012);function c(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}function h(e){const{values:t,children:a}=e;return(0,r.useMemo)((()=>{const e=t??c(a);return function(e){const t=(0,s.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function m(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function d(e){let{queryString:t=!1,groupId:a}=e;const n=(0,o.k6)(),p=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,i._X)(p),(0,r.useCallback)((e=>{if(!p)return;const t=new URLSearchParams(n.location.search);t.set(p,e),n.replace({...n.location,search:t.toString()})}),[p,n])]}function b(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,p=h(e),[l,o]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:p}))),[i,s]=d({queryString:a,groupId:n}),[c,b]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,p]=(0,u.Nk)(a);return[n,(0,r.useCallback)((e=>{a&&p.set(e)}),[a,p])]}({groupId:n}),g=(()=>{const e=i??c;return m({value:e,tabValues:p})?e:null})();(0,r.useLayoutEffect)((()=>{g&&o(g)}),[g]);return{selectedValue:l,selectValue:(0,r.useCallback)((e=>{if(!m({value:e,tabValues:p}))throw new Error(`Can't select invalid tab value=${e}`);o(e),s(e),b(e)}),[s,b,p]),tabValues:p}}var g=a(72389);const y={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function k(e){let{className:t,block:a,selectedValue:o,selectValue:i,tabValues:s}=e;const u=[],{blockElementScrollPositionUntilNextRender:c}=(0,l.o5)(),h=e=>{const t=e.currentTarget,a=u.indexOf(t),n=s[a].value;n!==o&&(c(t),i(n))},m=e=>{let t=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":{const a=u.indexOf(e.currentTarget)+1;t=u[a]??u[0];break}case"ArrowLeft":{const a=u.indexOf(e.currentTarget)-1;t=u[a]??u[u.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,p.Z)("tabs",{"tabs--block":a},t)},s.map((e=>{let{value:t,label:a,attributes:l}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,key:t,ref:e=>u.push(e),onKeyDown:m,onClick:h},l,{className:(0,p.Z)("tabs__item",y.tabItem,l?.className,{"tabs__item--active":o===t})}),a??t)})))}function f(e){let{lazy:t,children:a,selectedValue:n}=e;const p=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=p.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},p.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function w(e){const t=b(e);return r.createElement("div",{className:(0,p.Z)("tabs-container",y.tabList)},r.createElement(k,(0,n.Z)({},e,t)),r.createElement(f,(0,n.Z)({},e,t)))}function v(e){const t=(0,g.Z)();return r.createElement(w,(0,n.Z)({key:String(t)},e))}},54008:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var n=a(87462),r=(a(67294),a(3905)),p=a(74866),l=a(85162);const o={title:"Puppet Provider: WhatsApp",sidebar_label:"WhatsApp"},i=void 0,s={unversionedId:"puppet-providers/whatsapp",id:"puppet-providers/whatsapp",title:"Puppet Provider: WhatsApp",description:"Wechaty Puppet Whatsapp",source:"@site/docs/puppet-providers/whatsapp.md",sourceDirName:"puppet-providers",slug:"/puppet-providers/whatsapp",permalink:"/zh/docs/puppet-providers/whatsapp",draft:!1,editUrl:"https://github.com/wechaty/docusaurus/edit/main/docusaurus/docs/puppet-providers/whatsapp.md",tags:[],version:"current",lastUpdatedBy:"Soumi Bardhan",lastUpdatedAt:1634466974,formattedLastUpdatedAt:"2021\u5e7410\u670817\u65e5",frontMatter:{title:"Puppet Provider: WhatsApp",sidebar_label:"WhatsApp"},sidebar:"docs",previous:{title:"WeChat",permalink:"/zh/docs/puppet-providers/wechat"},next:{title:"Official Account",permalink:"/zh/docs/puppet-providers/official-account"}},u={},c=[{value:"Features",id:"features",level:2},{value:"Deployment",id:"deployment",level:2},{value:"Integrating a Bot to Whatsapp",id:"integrating-a-bot-to-whatsapp",level:2},{value:"Prerequisite",id:"prerequisite",level:3},{value:"Features to be implemented",id:"features-to-be-implemented",level:2},{value:"History",id:"history",level:2},{value:"Contributing",id:"contributing",level:2},{value:"Maintainers",id:"maintainers",level:2}],h={toc:c},m="wrapper";function d(e){let{components:t,...a}=e;return(0,r.kt)(m,(0,n.Z)({},h,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"whatsapp"},(0,r.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Puppet-Whatsapp-blueviolet",alt:"Wechaty Puppet Whatsapp"}))),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/wechaty/wechaty-puppet-whatsapp/HEAD/docs/images/wechaty-puppet-whatsapp.png",alt:"Wechaty Puppet Whatsapp"})),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://badge.fury.io/js/wechaty-puppet-whatsapp"},(0,r.kt)("img",{parentName:"a",src:"https://badge.fury.io/js/wechaty-puppet-whatsapp.svg",alt:"NPM Version"})),"\n",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/wechaty-puppet-whatsapp?activeTab=versions"},(0,r.kt)("img",{parentName:"a",src:"https://img.shields.io/npm/v/wechaty-puppet-whatsapp/next.svg",alt:"npm (tag)"}))),(0,r.kt)("p",null,"WhatsApp is the most popular Instance Messaging service in many parts of the world. With the WhatsApp Wechaty Puppet Provider, you can reach more than 1.5 billion WhatsApp users. You can send notifications, have two-way conversations, by building chatbots. If you're trying to reach and better converse with users in the west world, you need to consider using WhatsApp."),(0,r.kt)("p",null,"With the introduction of wechaty puppet and the growth of the wechaty ecosystem and community, we\u2019re happy to introduce wechaty-puppet-whatsapp which connects Wechaty API, the conversational RPA SDK for chatbot makers, and WhatsApp, a free, multi-platform messaging app."),(0,r.kt)("p",null,"The WhatsApp Wechaty Puppet Provider is now available in alpha stage, to allow developers to start building and prototyping in your developing environments."),(0,r.kt)("p",null,"As a developer, you can use wechaty-puppet-whatsapp to build your own WhatsApp chatbot with a few lines of code, which can send and receive WhatsApp messages with wechaty API."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Repo: ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty-puppet-whatsapp"},"https://github.com/wechaty/wechaty-puppet-whatsapp")),(0,r.kt)("li",{parentName:"ul"},"Support & Feedback: ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty-puppet-whatsapp/issues"},"https://github.com/wechaty/wechaty-puppet-whatsapp/issues")),(0,r.kt)("li",{parentName:"ul"},"npm package: ",(0,r.kt)("a",{parentName:"li",href:"https://npmjs.com/package/wechaty-puppet-whatsapp"},"https://npmjs.com/package/wechaty-puppet-whatsapp")),(0,r.kt)("li",{parentName:"ul"},"Built on top of ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/pedroslopez/whatsapp-web.js"},"whatsapp-web.js"),", which is a WhatsApp client library for NodeJS."),(0,r.kt)("li",{parentName:"ul"},"Creator of ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/pedroslopez/whatsapp-web.js"},"whatsapp-web.js")," is ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/pedroslopez"},"@pedroslopez"),".")),(0,r.kt)("h2",{id:"features"},"Features"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Send & receive messages")),(0,r.kt)("h2",{id:"deployment"},"Deployment"),(0,r.kt)("p",null,"Run ",(0,r.kt)("inlineCode",{parentName:"p"},"wechaty-puppet-whatsapp"),":"),(0,r.kt)(p.Z,{groupId:"operating-systems",defaultValue:"linux",values:[{label:"Linux",value:"linux"},{label:"macOS",value:"mac"},{label:"Windows",value:"windows"}],mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"linux",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"npm install wechaty-puppet-whatsapp\nexport WECHATY_PUPPET=wechaty-puppet-whatsapp\nnpm start\n"))),(0,r.kt)(l.Z,{value:"mac",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"npm install wechaty-puppet-whatsapp\nexport WECHATY_PUPPET=wechaty-puppet-whatsapp\nnpm start\n"))),(0,r.kt)(l.Z,{value:"windows",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"npm install wechaty-puppet-whatsapp\nset WECHATY_PUPPET=wechaty-puppet-whatsapp\nnpm start\n")))),(0,r.kt)("h2",{id:"integrating-a-bot-to-whatsapp"},"Integrating a Bot to Whatsapp"),(0,r.kt)("p",null,"Let's take up an example on how to integrate bot from ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty-getting-started"},"starter templete")," to Whatsapp."),(0,r.kt)("p",null,"The steps are similar for all other bots as well."),(0,r.kt)("h3",{id:"prerequisite"},"Prerequisite"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Offical Wechaty package: ",(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/wechaty"},"package/wechaty"),"."),(0,r.kt)("li",{parentName:"ol"},"QRCode terminal edition: ",(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/qrcode-terminal"},"package/qrcode-terminal"),".")),(0,r.kt)("p",null,"You can follow up the steps mentioned below:"),(0,r.kt)("ol",null,(0,r.kt)("li",null," Initialize the project by creating a new folder `my-bot`."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir my-bot\ncd my-bot\n")),(0,r.kt)("li",null," Install the dependencies using the following commands:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install wechaty\nnpm install qrcode-terminal\n")),(0,r.kt)("li",null," Add the dependencies for using the bot with Whatsapp."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install wechaty-puppet-whatsapp\n")),(0,r.kt)("li",null," Create a new folder `src` and add a file `my-bot.js`. Add your custom functions to the code snippet below:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"  \nimport {\n  Wechaty,\n  ScanStatus,\n  log,\n}               from 'wechaty'\n\nimport qrcodeTerminal from 'qrcode-terminal'\n\nconsole.log(welcome)\nconst bot = new Wechaty()\n\n/*\n *Your function goes here\n */\n")),(0,r.kt)("li",null," After you are done with the file, you can run the bot using the following commands:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"export WECHATY_LOG=verbose\nexport WECHATY_PUPPET=wechaty-puppet-whatsapp\nnode src/my-bot.js\n")),(0,r.kt)("p",null,"Scan it using your Whatsapp and you are ready to play with the bot! You can read more about deploying a whatsapp puppet ",(0,r.kt)("a",{parentName:"p",href:"https://wechaty.js.org/docs/howto/deploy-whatsapp/"},"here"),"."),(0,r.kt)("h2",{id:"features-to-be-implemented"},"Features to be implemented"),(0,r.kt)("p",null,"Here are some features to be implemented :"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Feature"),(0,r.kt)("th",{parentName:"tr",align:null},"Status"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Send and Receive text messages"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Send media (images/audio/documents)"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Send video"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Receive Video"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Receive media (images/audio/video/documents)"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Send contact cards"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Get invite for group"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Modify group subject"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Add group participants"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Kick group participants"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Mention users"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Get contact info"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Get profile pictures"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Set user status message"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")))),(0,r.kt)("h2",{id:"history"},"History"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://wechaty.js.org/2021/02/15/publishment-of-wechaty-whatsapp-puppet/"},"Wechaty Puppet Whatsapp Has been Published, Shan, Feb 15, 2021"))),(0,r.kt)("h2",{id:"contributing"},"Contributing"),(0,r.kt)("p",null,"Feel free to file an issue on the github repo for any feedback."),(0,r.kt)("p",null,"wechaty-puppet-whatsapp is an open-source project. If you\u2019re interested in contributing to this project, check out the contribution guidelines to learn more, and welcome to join the Wechaty Developers\u2019 Home or our ",(0,r.kt)("a",{parentName:"p",href:"https://gitter.im/wechaty/wechaty"},"Gitter network")," to join our community."),(0,r.kt)("h2",{id:"maintainers"},"Maintainers"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://wechaty.js.org/contributors/univerone"},"@univerone")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/huan"},"@huan")," ",(0,r.kt)("a",{parentName:"li",href:"http://linkedin.com/in/zixia"},"Huan LI")," ",(0,r.kt)("a",{parentName:"li",href:"mailto:zixia@zixia.net"},"zixia@zixia.net"))))}d.isMDXComponent=!0}}]);